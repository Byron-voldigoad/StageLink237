<div class="p-2 sm:p-4 bg-gray-50 min-h-screen">
  <div class="max-w-7xl mx-auto space-y-4 sm:space-y-8">
    <!-- Message d'erreur -->
    <div *ngIf="error" class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg" role="alert">
      <span class="block sm:inline">{{ error }}</span>
    </div>

    <!-- Loading spinner -->
    <div *ngIf="loading" class="flex justify-center items-center py-4">
      <div class="animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"></div>
    </div>

    <!-- Statistiques -->
    <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6">
      <div class="bg-white rounded-xl shadow-sm p-4 sm:p-6 flex flex-col items-center hover:shadow-md transition-shadow">
        <span class="material-icons text-4xl text-red-500 mb-2">business</span>
        <div class="text-2xl font-bold text-gray-900">{{ stats.entreprises }}</div>
        <div class="text-gray-600">Entreprises</div>
      </div>
      <div class="bg-white rounded-xl shadow-sm p-4 sm:p-6 flex flex-col items-center hover:shadow-md transition-shadow">
        <span class="material-icons text-4xl text-primary mb-2">work</span>
        <div class="text-2xl font-bold text-gray-900">{{ stats.stages }}</div>
        <div class="text-gray-600">Stages proposés</div>
      </div>
      <div class="bg-white rounded-xl shadow-sm p-4 sm:p-6 flex flex-col items-center hover:shadow-md transition-shadow">
        <span class="material-icons text-4xl text-green-500 mb-2">person</span>
        <div class="text-2xl font-bold text-gray-900">{{ stats.etudiants }}</div>
        <div class="text-gray-600">Étudiants</div>
      </div>
      <div class="bg-white rounded-xl shadow-sm p-4 sm:p-6 flex flex-col items-center hover:shadow-md transition-shadow">
        <span class="material-icons text-4xl text-accent mb-2">mail</span>
        <div class="text-2xl font-bold text-gray-900">{{ stats.messages }}</div>
        <div class="text-gray-600">Messages</div>
      </div>
    </div>

    <!-- Tableau quartiers & Actions rapides -->
    <div class="flex flex-col lg:flex-row gap-4 sm:gap-6">
      <!-- Tableau quartiers -->
      <div class="bg-white rounded-xl shadow-sm p-4 sm:p-6 flex-1 overflow-x-auto">
        <h3 class="text-lg font-semibold text-gray-900 mb-4">
          Entreprises de stage par quartier
        </h3>
        <div class="overflow-x-auto">
          <table class="w-full">
            <thead>
              <tr class="border-b border-gray-200">
                <th class="text-left text-gray-600 pb-3 font-medium">Quartier</th>
                <th class="text-right text-gray-600 pb-3 font-medium">Nb Entreprises</th>
                <th class="text-right text-gray-600 pb-3 font-medium">Exemples</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of entreprisesByQuartier" class="border-b border-gray-100 hover:bg-gray-50">
                <td class="py-3 flex items-center">
                  <span class="material-icons text-primary mr-2">location_city</span>
                  <span class="text-gray-700">{{ item.quartier }}</span>
                </td>
                <td class="py-3 text-right text-gray-700 hover:text-primary-dark">{{ item.nombre }}</td>
                <td class="py-3 text-right text-gray-500">{{ item.exemples }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Actions rapides -->
      <div class="bg-white rounded-xl shadow-sm p-4 sm:p-6 flex flex-col space-y-3 min-w-[220px]">
        <h3 class="text-lg font-semibold text-gray-900 mb-2">
          Actions rapides
        </h3>
        <button class="w-full px-4 py-2.5 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors duration-200 font-medium">
          Ajouter une entreprise
        </button>
        <button class="w-full px-4 py-2.5 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors duration-200 font-medium">
          Ajouter un stage
        </button>
        <button class="w-full px-4 py-2.5 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors duration-200 font-medium">
          Ajouter un étudiant
        </button>
        <button class="w-full px-4 py-2.5 bg-accent hover:bg-accent-dark text-white rounded-lg transition-colors duration-200 font-medium">
          Envoyer un message
        </button>
      </div>
    </div>

    <!-- Entreprises récentes -->
    <div class="bg-white rounded-xl shadow-sm p-4 sm:p-6">
      <h3 class="text-lg font-semibold text-gray-900 mb-4">
        Entreprises récemment ajoutées
      </h3>
      <ul class="divide-y divide-gray-100">
        <li *ngFor="let entreprise of recentEntreprises" class="py-3 flex items-center hover:bg-gray-50">
          <span class="material-icons text-green-500 mr-2">business</span>
          <span class="text-gray-700 font-medium">{{ entreprise.nom }}</span>
          <span class="ml-auto text-sm text-gray-500">{{ entreprise.adresse }}</span>
        </li>
      </ul>
    </div>
  </div>
</div>
